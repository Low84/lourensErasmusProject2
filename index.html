<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="description" content="Project using CRUD for a company directory">
  <meta name="author" content="Lourens Erasmus">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" type="text/css" href="./vendors/css/bootstrap.css" />
  <link rel="stylesheet" type="text/css" href="./vendors/css/datatables.min.css" />

  <!-- Font-Awesome -->
  <link rel="stylesheet" href="./vendors/font-awesome/css/font-awesome.min.css">

  <script src="https://kit.fontawesome.com/785efd1d02.js" crossorigin="anonymous"></script>

  <!-- Stylesheet -->
  <link rel="stylesheet" type="text/css" href="./libs/css/styles.css" />

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rokkitt&display=swap" rel="stylesheet">
  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="./libs/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./libs/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./libs/images/favicon-32x32.png">
  <link rel="manifest" href="./libs/images/site.webmanifest">


  <title>Company Directory</title>
</head>

<body>
  <div id="navButtons" class="container">
    <nav>
      <div class="nav nav-tabs nav-justified" id="nav-tab" role="tablist">
        <button class="nav-link active tabButton" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home"
          type="button" role="tab" aria-controls="nav-home" aria-selected="true">Personnel</button>
        <button class="nav-link tabButton" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile"
          type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Locations</button>
        <button class="nav-link tabButton" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact"
          type="button" role="tab" aria-controls="nav-contact" aria-selected="false">Departments</button>
      </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
      <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">

        <!-- Employee Details Table -->
        <div class="container">
          <div class="table-title">
            <div class="col-sm-6">
              <h2>Manage Employees</h2>
            </div>
            <div class="col-sm-6">
              <a href="#addEmployeeModal" class="btn btn-success addEmployee" data-bs-toggle="modal"><i
                  class="far fa-plus-square"></i> <span class="buttonText">Add New Employee</span></a>
            </div>
          </div>
          <!-- <div id="searchBarDiv">
            <input id="searchValue" type="text" placeholder="Search..."><button type="submit" id="searchBtn"><i class="fas fa-search"></i></button>
          </div> -->
          <div class=" row">
            <table id="personnelTable"class="table table-striped test">
              <thead>
                <tr>
                  <th scope="col">ID</th>
                  <th scope="col">First Name</th>
                  <th scope="col">Last Name</th>
                  <th scope="col">Location</th>
                  <th scope="col">Email</th>                  
                  <th scope="col">Department</th>
                  <th scope="col">Edit/Delete</th>
                </tr>
              </thead>
              <tbody id="user_data">

              </tbody>
            </table>
          </div>
        </div>
        <!-- End of Employee Details Table -->
      </div>
      <!-- Locations -->
      <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
        <!-- Locations Table -->
        <div class="container">
          <div class="row justify-content-start">
            <div class="table-title">
              <div class="col-sm-6">
                <h2>Locations</h2>
              </div>
              <div class="col-sm-6">
                <a href="#addEmployeeModal" class="btn btn-success addEmployee" data-bs-toggle="modal"><i
                    class="far fa-plus-square"></i> <span class="buttonText">Add New Location</span></a>
              </div>
            </div>
            <div class="row">
              <table class="table table-striped test">
                <thead>
                  <tr class="justifyTable">
                    <th>Location</th>
                    <th>Number of Departments</th>
                    <th>Number of Personnel</th>
                    <th>Edit/Delete</th>
                  </tr>
                </thead>
                <tbody id="locationData">

                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- End of Locations Table -->
      </div>
      <!-- Departments -->
      <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
        <!-- Departments Table -->
        <div class="container">
          <div class="row justify-content-start">
            <div class="table-title">
              <div class="col-sm-6">
                <h2>Departments</h2>
              </div>
              <div class="col-sm-6">
                <a href="#addEmployeeModal" class="btn btn-success addEmployee" data-bs-toggle="modal"><i
                    class="far fa-plus-square"></i> <span class="buttonText">Add New Department</span></a>
              </div>
            </div>
            <div class="row">
              <table class="table table-striped test">
                <thead>
                  <tr class="justifyTable">
                    <th>Department</th>
                    <th>Location</th>
                    <th>Number of Personnel</th>
                    <th>Edit/Delete</th>
                  </tr>
                </thead>
                <tbody id="departData">

                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- End of Departments Table -->

      </div>
    </div>
  </div>

  <!-- Modals -->
  <!-- Add employee Modal -->
  <div id="addEmployeeModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form action="./libs/php/insertEmployee.php" method="POST" id="addNewEmployee" class="addNewEmployee">
          <div class="modal-header">
            <h4 class="modal-title">Add Employee</h4>
            <a type="button" class="close" data-bs-dismiss="modal" aria-hidden="true"><i
                class="far fa-window-close fa-2x"></i></a>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label>First Name</label>
              <input type="text" class="form-control" name="firstName" required>
            </div>
            <div class="form-group">
              <label>Last Name</label>
              <input type="text" class="form-control" name="lastName" required>
            </div>
            <div class="form-group">
              <label>Job Title</label>
              <input type="text" class="form-control" name="jobTitle" required>
            </div>
            <div class="form-group">
              <label>Email</label>
              <input type="email" class="form-control" name="email" required>
            </div>
            <div class="form-group">
              <label for="department">Location</label>
              <select id="location" class="form-control" name="locationID">
              </select>
            </div>
            <div class="form-group">
              <label for="department">Department</label>
              <select id="department" class="form-control" name="departmentID">
              </select>
            </div>

          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancel">
            <!-- <input type="submit" class="btn btn-success" value="Add"> -->
            <input name="submit" type="submit" class="btn btn-success" value="Submit">
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- Edit Modal -->
  <div id="editEmployeeModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form action="./libs/php/editEmployee.php" method="POST" id="editEmployee" class="editEmployee">
          <div class="modal-header">
            <h4 class="modal-title">Edit Employee</h4>
            <a type="button" class="close" data-bs-dismiss="modal" aria-hidden="true"><i
                class="far fa-window-close fa-2x"></i></a>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label>Personnel ID</label>
              <input id="idEdit" type="text" class="form-control" name="idEdit" readonly>
            </div>
            <div class="form-group">
              <label>First Name</label>
              <input id="firstNameEdit" type="text" class="form-control" name="firstNameEdit" required>
            </div>
            <div class="form-group">
              <label>Last Name</label>
              <input id="lastNameEdit" type="text" class="form-control" name="lastNameEdit" required>
            </div>
            <div class="form-group">
              <label>Job Title</label>
              <input id="jobEdit" type="text" class="form-control" name="jobTitleEdit" required>
            </div>
            <div class="form-group">
              <label>Email</label>
              <input id="emailEdit" type="email" class="form-control" name="emailEdit"required>
            </div>
            <div class="form-group">
              <label for="location">Location</label>
              <select id="locationEdit" class="form-control" name="departmentEdit" name="locationID">
              </select>
            </div>
            <div class="form-group">
              <label for="department">Department</label>
              <select id="departmentEdit" class="form-control" name="departmentEdit" name="departmentID">
              </select>
            </div>
            <div class="form-group">
              <input type="checkbox" id="confirmEdit" name="editCheckbox" value="edit">
              <label for="editCheckbox">Please confirm changes</label><br>
            </div>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancel">
            <input type="submit" class="btn btn-warning" name="save" value="Save">
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- Delete Modal -->
  <div id="deleteEmployeeModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form>
          <div class="modal-header">
            <h4 class="modal-title">Delete Employee</h4>
            <a type="button" class="close" data-bs-dismiss="modal" aria-hidden="true"><i
                class="far fa-window-close fa-2x"></i></a>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to delete these Records?</p>
            <p class="text-warning"><small>This action cannot be undone.</small></p>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancel">
            <button id="employeeDeleteBtn" type="submit" class="btn btn-danger" value="Delete">Delete</button>
            <!-- <input id="employeeDeleteBtn" type="submit" class="btn btn-danger" value="Delete"> -->
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Add Department Modal -->
  <div id="addDepartModal" class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <form action="./libs/php/insertEmployee.php" method="POST" id="addNewEmployee" class="addNewEmployee">
          <div class="modal-header">
            <h4 class="modal-title">Add Department</h4>
            <a type="button" class="close" data-bs-dismiss="modal" aria-hidden="true"><i
                class="far fa-window-close fa-2x"></i></a>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label>Department Name</label>
              <input type="text" class="form-control" name="firstName" required>
            </div>
            <div class="form-group">
              <label>Location</label>
              <input type="text" class="form-control" name="lastName" required>
            </div>
          </div>
          <div class="modal-footer">
            <input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancel">
            <!-- <input type="submit" class="btn btn-success" value="Add"> -->
            <input name="submit" type="submit" class="btn btn-success" value="Submit">
          </div>
        </form>
      </div>
    </div>
  </div>


  <!-- jQuery -->
  <script type="application/javascript" src="./vendors/js/jquery-3.6.0.js"></script>
  <!-- Bootstrap js -->
  <script type="application/javascript" src="./vendors/js/bootstrap.bundle.js"></script>
  <!-- Bootstrap DataTables -->
  <script type="application/javascript" src="./vendors/js/datatables.min.js"></script>

  <script type="application/javascript" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>

  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Page's JavaScript -->
  <script type="application/javascript" src="./libs/js/script.js"></script>

</body>

</html>
